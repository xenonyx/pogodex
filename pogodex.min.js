/**
 * @author  Xenonyx
 * @license MIT
 * @see     github.com/xenonyx/pogodex
 */
(function(){var e="bug";var n="dark";var a="dragon";var t="electric";var r="fire";var o="fairy";var i="fighting";var w="flying";var s="ghost";var c="grass";var l="ground";var u="ice";var f="normal";var p="poison";var g="psychic";var d="rock";var h="steel";var k="water";var v=[e,n,a,t,r,o,i,w,s,c,l,u,f,p,g,d,h,k];var m={};m[e]=[c,g,n];m[n]=[s,g];m[a]=[a];m[t]=[w,k];m[r]=[e,h,c,u];m[o]=[i,a,n];m[i]=[f,d,h,u,n];m[w]=[i,e,c];m[s]=[s,g];m[c]=[l,d,k];m[l]=[p,d,h,r,t];m[u]=[w,l,c,a];m[f]=[];m[p]=[c,o];m[g]=[i,p];m[d]=[w,e,r,u];m[h]=[d,u,o];m[k]=[l,d,r];var y={};y[e]=[i,w,p,s,h,r,o];y[n]=[i,n,o];y[a]=[h];y[t]=[c,t,a];y[r]=[d,r,k,a];y[o]=[p,h,r];y[i]=[w,p,e,g,o];y[w]=[d,h,t];y[s]=[n];y[c]=[w,p,e,h,r,c,a];y[l]=[e,c];y[u]=[h,r,k,u];y[f]=[d,h];y[p]=[p,l,d,s];y[g]=[h,g];y[d]=[i,l,h];y[h]=[h,r,k,t];y[k]=[k,c,a];var b={};b[e]=[];b[n]=[];b[a]=[o];b[t]=[l];b[r]=[];b[o]=[];b[i]=[s];b[w]=[];b[s]=[f];b[c]=[];b[l]=[w];b[u]=[];b[f]=[s];b[p]=[h];b[g]=[n];b[d]=[];b[h]=[];b[k]=[];var E={DOUBLE_STRONG:16,STRONG:8,NORMAL:4,WEAK:2,DOUBLE_WEAK:1,NONE:0};function A(e,n,a,t,r){this.id=e;this.name=n;this.types=a;this.fastAttacks=t;this.specialAttacks=r}A.prototype.getPaddedId=function(){var e=String(this.id);while(e.length<3){e="0"+e}return e};A.prototype.getImageUrl=function(){return"images/"+this.getPaddedId()+".png"};A.prototype.getFamily=function(){for(var e=0;e<O.length;e++){if(O[e].members.indexOf(this.id)!==-1){return O[e]}}throw new Error("Bug! Pokemon has no family!")};A.prototype.getAttackEffectiveness=function(e){var n=E.NORMAL;this.types.forEach(function(a){if(m[e].indexOf(a)!==-1){n*=2}if(y[e].indexOf(a)!==-1){n/=2}if(b[e].indexOf(a)!==-1){n=E.NONE}});return n};A.prototype.getAllAttacksEffectiveness=function(){var e=this;var n={};v.forEach(function(a){n[a]=e.getAttackEffectiveness(a)});console.log(JSON.stringify(n,null,4));return n};A.prototype.getDefenceSummary=function(){var e=this.getAllAttacksEffectiveness();var n={invincible:[],doubleStrong:[],strong:[],normal:[],weak:[],doubleWeak:[]};v.forEach(function(a){switch(e[a]){case E.DOUBLE_STRONG:n.doubleWeak.push(a);break;case E.STRONG:n.weak.push(a);break;case E.NORMAL:n.normal.push(a);break;case E.WEAK:n.strong.push(a);break;case E.DOUBLE_WEAK:n.doubleStrong.push(a);break;case E.NONE:n.invincible.push(a);break}});console.log(JSON.stringify(n,null,4));return n};A.prototype.calculateMaxAttackEffectivenessPercent=function(e){var n=this.types.length===2?E.DOUBLE_STRONG:E.STRONG;return Math.round(e/n*100)};A.prototype.getMostEffectiveAttackers=function(){var e=75;var n=this;var a=[];S.forEach(function(e){if(e.id===n.id){return}var t=[];var r={fast:0,special:0};e.fastAttacks.forEach(function(e){var a=n.getAttackEffectiveness(e);var o=n.calculateMaxAttackEffectivenessPercent(a);r.fast+=a;t.push("Fast: "+e.toUpperCase()+": "+a+" ("+o+"%)")});e.specialAttacks.forEach(function(e){var a=n.getAttackEffectiveness(e);var o=n.calculateMaxAttackEffectivenessPercent(a);r.special+=a;t.push("Special: "+e.toUpperCase()+": "+a+" ("+o+"%)")});var o={fast:r.fast/e.fastAttacks.length,special:r.special/e.specialAttacks.length};var i={fast:n.calculateMaxAttackEffectivenessPercent(o.fast),special:n.calculateMaxAttackEffectivenessPercent(o.special)};t.push("Average fast:    "+o.fast+" ("+i.fast+"%)");t.push("Average special: "+o.special+" ("+i.special+"%)");var w=(o.fast+o.special)/2;var s=n.calculateMaxAttackEffectivenessPercent(w);t.push("Overall average: "+w+" ("+s+"%)");a.push({pokemon:e,effectiveness:s,details:t})});a.sort(function(e,n){return n.effectiveness-e.effectiveness});a.length=e;console.log(JSON.stringify(a,null,4));return a};var S=[new A(1,"Bulbasaur",[c,p],[f,c],[p,c,c]),new A(2,"Ivysaur",[c,p],[c,c],[p,c,c]),new A(3,"Venusaur",[c,p],[c,c],[p,c,c]),new A(4,"Charmander",[r],[f,r],[r,r,r]),new A(5,"Charmeleon",[r],[f,r],[r,r,r]),new A(6,"Charizard",[r,w],[w,r],[a,r,r]),new A(7,"Squirtle",[k],[f,k],[k,k,k]),new A(8,"Wartortle",[k],[n,k],[k,k,u]),new A(9,"Blastoise",[k],[n,k],[u,k,h]),new A(10,"Caterpie",[e],[f,e],[f]),new A(11,"Metapod",[e],[f,e],[f]),new A(12,"Butterfree",[e,w],[g,e],[g,e,e]),new A(13,"Weedle",[e,p],[e,p],[f]),new A(14,"Kakuna",[e,p],[e,p],[f]),new A(15,"Beedrill",[e,p],[e,p],[w,p,e]),new A(16,"Pidgey",[f,w],[f,f],[a,w,w]),new A(17,"Pidgeotto",[f,w],[w,h],[a,w,w]),new A(18,"Pidgeot",[f,w],[w,h],[w,w,w]),new A(19,"Rattata",[f],[f,f],[l,f,f]),new A(20,"Raticate",[f],[n,f],[l,f,f]),new A(21,"Spearow",[f,w],[f,w],[w,a,w]),new A(22,"Fearow",[f,w],[h,w],[w,a,l]),new A(23,"Ekans",[p],[p,p],[p,p,f]),new A(24,"Arbok",[p],[p,n],[p,p,n]),new A(25,"Pikachu",[t],[t,f],[t,t,t]),new A(26,"Raichu",[t],[t,t],[i,t,t]),new A(27,"Sandshrew",[l],[f,l],[l,d,d]),new A(28,"Sandslash",[l],[h,l],[d,l,l]),new A(29,"Nidoran♀",[p],[p,n],[p,p,f]),new A(30,"Nidorina",[p],[p,n],[p,p,l]),new A(31,"Nidoqueen",[p,l],[p,n],[d,p,l]),new A(32,"Nidoran♂",[p],[p,w],[f,f,p]),new A(33,"Nidorino",[p],[p,n],[f,l,p]),new A(34,"Nidoking",[p,l],[p,e],[e,l,p]),new A(35,"Clefairy",[o],[g,f],[f,o,o]),new A(36,"Clefable",[o],[g,f],[g,o,o]),new A(37,"Vulpix",[r],[f,r],[r,f,r]),new A(38,"Ninetales",[r],[n,r],[r,r,r]),new A(39,"Jigglypuff",[f,o],[n,f],[o,f,o]),new A(40,"Wigglytuff",[f,o],[n,f],[o,f,o]),new A(41,"Zubat",[p,w],[n,f],[p,p,w]),new A(42,"Golbat",[p,w],[n,w],[s,p,w]),new A(43,"Oddish",[c,p],[c,p],[o,c,p]),new A(44,"Gloom",[c,p],[c,p],[o,c,p]),new A(45,"Vileplume",[c,p],[c,p],[o,c,c]),new A(46,"Paras",[e,c],[e,f],[c,e,p]),new A(47,"Parasect",[e,c],[e,e],[c,e,p]),new A(48,"Venonat",[e,p],[g,e],[e,p,g]),new A(49,"Venomoth",[e,p],[g,e],[e,p,g]),new A(50,"Diglett",[l],[f,l],[d,l,l]),new A(51,"Dugtrio",[l],[n,l],[d,l,l]),new A(52,"Meowth",[f],[f,n],[n,n,f]),new A(53,"Persian",[f],[f,n],[o,d,n]),new A(54,"Psyduck",[k],[g,k],[k,i,g]),new A(55,"Golduck",[k],[g,k],[k,u,g]),new A(56,"Mankey",[i],[i,f],[i,i,i]),new A(57,"Primeape",[i],[i,i],[n,i,i]),new A(58,"Growlithe",[r],[r,n],[r,f,r]),new A(59,"Arcanine",[r],[r,n],[r,l,r]),new A(60,"Poliwag",[k],[k,l],[f,k,l]),new A(61,"Poliwhirl",[k],[k,l],[k,k,l]),new A(62,"Poliwrath",[k,i],[k,l],[u,k,i]),new A(63,"Abra",[g],[g],[s,e,g]),new A(64,"Kadabra",[g],[g,g],[s,o,g]),new A(65,"Alakazam",[g],[g,g],[s,o,g]),new A(66,"Machop",[i],[i,i],[i,i,i]),new A(67,"Machoke",[i],[i,i],[i,i,i]),new A(68,"Machamp",[i],[h,i],[d,i,i]),new A(69,"Bellsprout",[c,p],[p,c],[p,c,f]),new A(70,"Weepinbell",[c,p],[p,c],[p,c,c]),new A(71,"Victreebel",[c,p],[p,c],[p,c,c]),new A(72,"Tentacool",[k,p],[k,p],[k,k,f]),new A(73,"Tentacruel",[k,p],[p,p],[u,k,p]),new A(74,"Geodude",[d,l],[d,f],[d,l,d]),new A(75,"Graveler",[d,l],[d,l],[d,l,d]),new A(76,"Golem",[d,l],[d,l],[d,l,d]),new A(77,"Ponyta",[r],[f,r],[r,r,r]),new A(78,"Rapidash",[r],[i,r],[r,r,l]),new A(79,"Slowpoke",[k,g],[k,g],[g,k,g]),new A(80,"Slowbro",[k,g],[k,g],[g,k,u]),new A(81,"Magnemite",[t,h],[t,t],[h,t,t]),new A(82,"Magneton",[t,h],[t,t],[h,t,h]),new A(83,"Farfetch'd",[f,w],[e,f],[w,w,c]),new A(84,"Doduo",[f,w],[w,f],[f,w,w]),new A(85,"Dodrio",[f,w],[h,n],[w,w,w]),new A(86,"Seel",[k],[k,u],[k,u,k]),new A(87,"Dewgong",[k,u],[u,u],[k,u,u]),new A(88,"Grimer",[p],[l,p],[p,p,l]),new A(89,"Muk",[p],[p,p],[p,p,n]),new A(90,"Shellder",[k],[u,f],[u,k,k]),new A(91,"Cloyster",[k,u],[u,u],[u,u,k]),new A(92,"Gastly",[s,p],[s,n],[n,p,s]),new A(93,"Haunter",[s,p],[s,s],[n,p,s]),new A(94,"Gengar",[s,p],[s,n],[n,p,s]),new A(95,"Onix",[d,l],[d,f],[d,d,h]),new A(96,"Drowzee",[g],[f,g],[g,g,g]),new A(97,"Hypno",[g],[g,g],[g,g,s]),new A(98,"Krabby",[k],[k,l],[f,k,k]),new A(99,"Kingler",[k],[h,l],[f,k,e]),new A(100,"Voltorb",[t],[f,t],[t,t,e]),new A(101,"Electrode",[t],[f,t],[t,t,f]),new A(102,"Exeggcute",[c,g],[g],[g,c,d]),new A(103,"Exeggutor",[c,g],[g,g],[g,c,c]),new A(104,"Cubone",[l],[i,l],[l,l,l]),new A(105,"Marowak",[l],[i,l],[l,l,l]),new A(106,"Hitmonlee",[i],[i,i],[i,d,f]),new A(107,"Hitmonchan",[i],[h,i],[r,u,t,i]),new A(108,"Lickitung",[f],[s,g],[f,f,c]),new A(109,"Koffing",[p],[f,p],[n,p,p]),new A(110,"Weezing",[p],[f,p],[n,s,p]),new A(111,"Rhyhorn",[l,d],[i,l],[l,f,f]),new A(112,"Rhydon",[l,d],[i,l],[l,d,e]),new A(113,"Chansey",[f],[f,g],[o,g,g]),new A(114,"Tangela",[c],[c],[p,c,c]),new A(115,"Kangaskhan",[f],[i,l],[l,i,f]),new A(116,"Horsea",[k],[k,k],[k,a,h]),new A(117,"Seadra",[k],[k,a],[k,a,u]),new A(118,"Goldeen",[k],[l,w],[k,f,k]),new A(119,"Seaking",[k],[p,w],[l,e,u]),new A(120,"Staryu",[k],[k,f],[k,d,f]),new A(121,"Starmie",[k,g],[k,f],[k,d,g]),new A(122,"Mr. Mime",[g,o],[g,g],[s,g,g]),new A(123,"Scyther",[e,w],[h,e],[e,e,n]),new A(124,"Jynx",[u,g],[f,u],[g,u,o]),new A(125,"Electabuzz",[t],[i,t],[t,t,t]),new A(126,"Magmar",[r],[i,r],[r,r,r]),new A(127,"Pinsir",[e],[e,i],[i,f,e]),new A(128,"Tauros",[f],[f,g],[l,h,f]),new A(129,"Magikarp",[k],[k],[f]),new A(130,"Gyarados",[k,w],[n,a],[a,k,a]),new A(131,"Lapras",[k,u],[u,u],[u,a,u]),new A(132,"Ditto",[f],[f],[f]),new A(133,"Eevee",[f],[f,f],[f,l,f]),new A(134,"Vaporeon",[k],[k],[k,k,k]),new A(135,"Jolteon",[t],[t],[t,t,t]),new A(136,"Flareon",[r],[r],[r,r,r]),new A(137,"Porygon",[f],[f,f],[t,g,e]),new A(138,"Omanyte",[d,k],[k,l],[d,d,k]),new A(139,"Omastar",[d,k],[k,d],[d,d,k]),new A(140,"Kabuto",[d,k],[f,l],[k,d,d]),new A(141,"Kabutops",[d,k],[e,l],[k,d,d]),new A(142,"Aerodactyl",[d,w],[n,h],[h,f,d]),new A(143,"Snorlax",[f],[s,g],[f,l,f]),new A(144,"Articuno",[u,w],[u],[u,u,u]),new A(145,"Zapdos",[t,w],[t],[t,t,t]),new A(146,"Moltres",[r,w],[r],[r,r,r]),new A(147,"Dratini",[a],[a],[f,k,a]),new A(148,"Dragonair",[a],[a],[f,k,a]),new A(149,"Dragonite",[a,w],[a,h],[f,a,a]),new A(150,"Mewtwo",[g],[g,g],[g,s,f]),new A(151,"Mew",[g],[f],[w,l,g,a,t,o,r,c,f])];function M(e){var n=e-1;return S[n]}function x(e,n){this.name=e;this.members=n}x.prototype.render=function(e){var n=C("family-container");this.members.forEach(function(a){var t=M(a);var r=C("small-boxed-pokemon").append($("<img></img>").attr("src",t.getImageUrl())).on("click",function(){G=t;B(P.DETAIL)});if(a===e){r.addClass("selected-pokemon")}n.append(r)});return n};var O=[new x("Bulbasaur",[1,2,3]),new x("Charmander",[4,5,6]),new x("Squirtle",[7,8,9]),new x("Caterpie",[10,11,12]),new x("Weedle",[13,14,15]),new x("Pidgey",[16,17,18]),new x("Rattata",[19,20]),new x("Spearow",[21,22]),new x("Ekans",[23,24]),new x("Pikachu",[25,26]),new x("Sandshrew",[27,28]),new x("Nidoran♀",[29,30,31]),new x("Nidoran♂",[32,33,34]),new x("Clefairy",[35,36]),new x("Vulpix",[37,38]),new x("Jigglypuff",[39,40]),new x("Zubat",[41,42]),new x("Oddish",[43,44,45]),new x("Paras",[46,47]),new x("Venonat",[48,49]),new x("Diglett",[50,51]),new x("Meowth",[52,53]),new x("Psyduck",[54,55]),new x("Mankey",[56,57]),new x("Growlithe",[58,59]),new x("Poliwag",[60,61,62]),new x("Abra",[63,64,65]),new x("Machop",[66,67,68]),new x("Bellsprout",[69,70,71]),new x("Tentacool",[72,73]),new x("Geodude",[74,75,76]),new x("Ponyta",[77,78]),new x("Slowpoke",[79,80]),new x("Magnemite",[81,82]),new x("Farfetch'd",[83]),new x("Doduo",[84,85]),new x("Seel",[86,87]),new x("Grimer",[88,89]),new x("Shellder",[90,91]),new x("Gastly",[92,93,94]),new x("Onix",[95]),new x("Drowzee",[96,97]),new x("Krabby",[98,99]),new x("Voltorb",[100,101]),new x("Exeggcute",[102,103]),new x("Cubone",[104,105]),new x("Hitmonlee",[106,107]),new x("Lickitung",[108]),new x("Koffing",[109,110]),new x("Rhyhorn",[111,112]),new x("Chansey",[113]),new x("Tangela",[114]),new x("Kangaskhan",[115]),new x("Horsea",[116,117]),new x("Goldeen",[118,119]),new x("Staryu",[120,121]),new x("Mr. Mime",[122]),new x("Scyther",[123]),new x("Jynx",[124]),new x("Electabuzz",[125]),new x("Magmar",[126]),new x("Pinsir",[127]),new x("Tauros",[128]),new x("Magikarp",[129,130]),new x("Lapras",[131]),new x("Ditto",[132]),new x("Eevee",[133,134,135,136]),new x("Porygon",[137]),new x("Omanyte",[138,139]),new x("Kabuto",[140,141]),new x("Aerodactyl",[142]),new x("Snorlax",[143]),new x("Articuno",[144]),new x("Zapdos",[145]),new x("Moltres",[146]),new x("Dratini",[147,148,149]),new x("Mewtwo",[150]),new x("Mew",[151])];var P={GRID:"grid",SEARCH:"search",DETAIL:"detail"};var D=P.GRID;var G=null;var N=0;function C(e){return $("<div></div>").addClass(e)}function R(e){Object.keys(P).forEach(function(n){var a=P[n];e(a)})}function T(){R(function(e){$("#tab-button-"+e).on("click",function(){B(e)})})}function L(e){var n=C("pokemon-types-container");e.forEach(function(e){n.append(C("pokemon-type").addClass("type-"+e).text(e))});return n}function I(){var e=$("#page-container-grid");e.empty();O.forEach(function(n){e.append(n.render())})}function K(){var e=C("search-results");$("#page-container-search").empty().append($("<input></input>").attr({type:"search",placeholder:"Search by name"}).on("focus",function(){$(this).val("")}).on("keyup",function(){var n=$(this).val().toLowerCase();e.empty();S.forEach(function(a){if(a.name.toLowerCase().indexOf(n)!==-1){e.append(C("search-result").text(a.name).on("click",function(){G=a;B(P.DETAIL)}))}})}),e)}function W(){if(G===null){throw new Error("No current Pokemon")}var e=$("#page-container-detail");e.empty().append(C("pokemon-name").text(G.name),C("pokemon-image-container").append($("<img></img>").attr("src",G.getImageUrl())));e.append(C("pokemon-section-heading").text("Types"),L(G.types),C("pokemon-section-heading").text("Fast attacks"),L(G.fastAttacks),C("pokemon-section-heading").text("Special attacks"),L(G.specialAttacks),C("pokemon-section-heading").text("Evolution family"),G.getFamily().render(G.id));var n=G.getDefenceSummary();Object.keys(n).forEach(function(a){if(a==="normal"||n[a].length===0){return}var t="";switch(a){case"invincible":t="Invincible against";break;case"doubleStrong":t="Super strong defence against";break;case"strong":t="Strong defence against";break;case"weak":t="Weak defence against";break;case"doubleWeak":t="Super weak defence against";break}e.append(C("pokemon-section-heading").text(t),L(n[a]))});e.append(C("pokemon-section-heading").text("Most effective attackers"),C("pokemon-small-note").html("The percentage is a measure of the average<br>"+"effectiveness of all the attacker's fast attacks<br>"+"and special attacks against this Pokémon"));G.getMostEffectiveAttackers().forEach(function(n){e.append(C("pokemon-attacker").append($("<span></span>").text(n.effectiveness+"%"),C("small-boxed-pokemon").append($("<img></img>").attr("src",n.pokemon.getImageUrl())),$("<span></span>").text(n.pokemon.name)).on("click",function(){G=n.pokemon;B(P.DETAIL)}))})}function B(e){if(D===P.GRID){N=$("#outer-scrollable-container").scrollTop()}D=e;R(function(e){$("#page-container-"+e).toggle(e===D);$("#tab-button-"+e).toggleClass("active-tab-button",e===D)});$("#tab-button-detail").toggle(G!==null);switch(D){case P.GRID:$("#outer-scrollable-container").scrollTop(N);break;case P.SEARCH:$("#outer-scrollable-container").scrollTop(0);break;case P.DETAIL:$("#outer-scrollable-container").scrollTop(0);W();break}}function U(){FastClick.attach(document.body);T();I();K();B(P.GRID)}$(document).ready(function(){U()})})();